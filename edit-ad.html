<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=420, initial-scale=1.0">
  <title>עריכת מודעה - מודעות הצפון</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: 'Heebo', Arial, sans-serif; background: #f7fafc; margin: 0; }
    .ad-form-container {
      max-width: 520px; margin: 40px auto; background: #fff; border-radius: 18px; box-shadow: 0 2px 14px #e0e0e0;
      padding: 32px 28px 24px 28px;
    }
    h2 { text-align: center; color: #0099cc; margin-bottom: 18px; }
    label { display: block; margin-bottom: 6px; color: #222; font-weight: 500; }
    input, select, textarea {
      width: 100%; font-size: 17px; padding: 8px 10px; margin-bottom: 16px; border-radius: 8px; border: 1px solid #bbb; background: #f9f9f9;
    }
    textarea { min-height: 60px; resize: vertical; }
    .ad-size-options { display: flex; gap: 10px; margin-bottom: 16px; }
    .ad-size-options label { font-weight: normal; }
    .dynamic-fields { margin-bottom: 18px; }
    .dynamic-fields input { width: calc(100% - 60px); display: inline-block; }
    .dynamic-fields button { margin-right: 6px; }
    .preview-img { width: 100%; max-height: 220px; object-fit: contain; border-radius: 10px; background: #f0f0f0; margin-bottom: 14px; }
    .ad-actions { display: flex; justify-content: space-between; gap: 10px; }
    .ad-btn { border: none; border-radius: 8px; padding: 9px 16px; font-size: 16px; cursor: pointer; background: #0099cc; color: #fff; font-weight: bold; transition: background 0.2s; }
    .ad-btn.cancel { background: #bbb; color: #fff; }
    .ad-btn:disabled { background: #ccc; }
  </style>
</head>
<body>
  <div class="ad-form-container">
    <h2>עריכת מודעה</h2>
    <form id="editAdForm">
      <label for="adTitle">כותרת המודעה</label>
      <input type="text" id="adTitle" name="adTitle" maxlength="60" required>

      <label for="adCategory">קטגוריה</label>
      <select id="adCategory" name="adCategory" required>
        <option value="">בחר קטגוריה...</option>
        <option>פסח</option>
        <option>הובלות</option>
        <option>מסעדות</option>
        <option>קייטרינג</option>
        <option>טיפול לסוגיו</option>
        <option>ריהוט</option>
        <option>עיצוב הבית</option>
        <option>דרושים</option>
        <option>ביגוד</option>
        <option>הנעלה</option>
        <option>חסד</option>
        <option>פינות ישיבה</option>
        <option>נופש</option>
        <option>ציוד משרדי</option>
        <option>ציוד לגנים</option>
        <option>נשים</option>
        <option>משלוחים</option>
        <option>בריאות</option>
        <option>מכון כושר</option>
        <option>דיור</option>
        <option>רואי חשבון</option>
        <option>עורכי דין</option>
        <option>הרצאות</option>
        <option>צילום</option>
        <option>מחשבים</option>
        <option>סלולר</option>
        <option>שיפוצים</option>
        <option>חינוך</option>
        <option>רפואה טבעית</option>
        <option>השכרת רכב</option>
        <option>תחבורה</option>
        <option>יד 2</option>
        <option>השבת אבידה</option>
      </select>

      <label for="adRegion">אזור</label>
      <select id="adRegion" name="adRegion" required>
        <option value="">בחר אזור...</option>
        <option>חיפה</option>
        <option>רכסים</option>
        <option>קרית שמואל</option>
        <option>קרית אתא</option>
        <option>קריות</option>
      </select>

      <label>גודל מודעה</label>
      <div class="ad-size-options">
        <label><input type="radio" name="adSize" value="A4"> A4</label>
        <label><input type="radio" name="adSize" value="half"> חצי A4</label>
        <label><input type="radio" name="adSize" value="quarter"> רבע A4</label>
      </div>

      <label for="adImage">קובץ מודעה (A4 בלבד, תמונה או PDF)</label>
      <input type="file" id="adImage" name="adImage" accept="image/*,application/pdf">
      <img id="previewImg" class="preview-img" style="display:none;" alt="תצוגה מקדימה">

      <label for="adContent">תוכן המודעה (לטקסט בלבד, עד 200 תווים)</label>
      <textarea id="adContent" name="adContent" maxlength="200" placeholder="רק לקטגוריות יד 2/השבת אבידה"></textarea>

      <label for="adPhone">מספר טלפון</label>
      <input type="tel" id="adPhone" name="adPhone" pattern="[0-9\-+ ]{9,15}" required>
      <label><input type="checkbox" id="adWhatsapp" name="adWhatsapp"> יש וואטסאפ</label>

      <label for="adLink">קישור (אופציונלי)</label>
      <input type="url" id="adLink" name="adLink" placeholder="https://...">

      <label for="adEmail">אימייל לקבלת פניות</label>
      <input type="email" id="adEmail" name="adEmail" required>

      <div class="dynamic-fields">
        <label>שדות דינמיים (כמו מלאי, שעות פעילות):</label>
        <input type="text" name="dynamicField[]" placeholder="שם השדה (למשל: מלאי)">
        <input type="text" name="dynamicValue[]" placeholder="ערך (למשל: קיים)">
        <button type="button" onclick="addDynamicField()">הוסף שדה</button>
      </div>

      <div class="ad-actions">
        <button type="submit" class="ad-btn">שמור שינויים</button>
        <button type="button" class="ad-btn cancel" onclick="window.location.href='my-ads.html'">ביטול</button>
      </div>
    </form>
  </div>
  <script>
    // תצוגה מקדימה של תמונה
    document.getElementById('adImage').addEventListener('change', function(e) {
      const file = e.target.files[0];
      const preview = document.getElementById('previewImg');
      if (file && file.type.startsWith('image/')) {
        const reader = new FileReader();
        reader.onload = function(ev) {
          preview.src = ev.target.result;
          preview.style.display = 'block';
        };
        reader.readAsDataURL(file);
      } else {
        preview.style.display = 'none';
      }
    });
    // הוספת שדה דינמי
    function addDynamicField() {
      const container = document.querySelector('.dynamic-fields');
      const field = document.createElement('input');
      field.type = 'text';
      field.name = 'dynamicField[]';
      field.placeholder = 'שם השדה';
      container.appendChild(field);
      const value = document.createElement('input');
      value.type = 'text';
      value.name = 'dynamicValue[]';
      value.placeholder = 'ערך';
      container.appendChild(value);
    }
    // דמו: מילוי ערכים קיימים (בהמשך יוחלף בטעינת נתונים משרת)
    window.onload = function() {
      // דוגמה לטעינת ערכים קיימים
      document.getElementById('adTitle').value = 'מכירת שולחן אוכל';
      document.getElementById('adCategory').value = 'ריהוט';
      document.getElementById('adRegion').value = 'חיפה';
      document.querySelector('input[name="adSize"][value="A4"]').checked = true;
      document.getElementById('adContent').value = '';
      document.getElementById('adPhone').value = '050-1234567';
      document.getElementById('adWhatsapp').checked = true;
      document.getElementById('adLink').value = '';
      document.getElementById('adEmail').value = 'demo@email.com';
      // שדות דינמיים לדוגמה
      document.querySelector('.dynamic-fields input[name="dynamicField[]"]').value = 'מלאי';
      document.querySelector('.dynamic-fields input[name="dynamicValue[]"]').value = 'קיים';
    }
  </script>
</body>
</html>
